var Ht=Object.defineProperty;var jt=(v,w,S)=>w in v?Ht(v,w,{enumerable:!0,configurable:!0,writable:!0,value:S}):v[w]=S;var g=(v,w,S)=>jt(v,typeof w!="symbol"?w+"":w,S);(function(){"use strict";var v=document.createElement("style");v.textContent=`:root{--default-background-color: white;--default-offset-background-color: black;--default-offset-background-color--hover: #1d1d20;--date-selected-background-color: var(--default-offset-background-color)}.widget__container{box-shadow:0 0 18px 8px #0000001a,0 0 32px 32px #00000014;width:100%;overflow:auto;transition:max-height .2s ease;font-family:Helvetica,Arial,sans-serif;background-color:var(--default-background-color);border-radius:10px;box-sizing:border-box}.widget__container *{box-sizing:border-box;font-size:16px}.widget__container h3,.widget__container p,.widget__container input{margin:0;padding:0}.widget__container .widget__header{padding:1.5rem 2rem;background-color:var(--default-offset-background-color);color:#fff;border-top-left-radius:10px;border-top-right-radius:10px;text-align:center}.widget__container .widget__header h3{font-size:24px;font-weight:400;margin-bottom:8px}.widget__container #confirmation-message-container{color:green;display:flex;flex-direction:column;justify-content:center;align-items:center;height:80vh}.widget__container #confirmation-message-container #confirmation-message{font-size:1.5rem}.widget__container #confirmation-message-container,.widget__container #error-message{display:none;margin:2rem 1rem 1rem;padding:.75rem 1rem;border-radius:5px;font-weight:700}.widget__container #confirmation-booking-container{display:flex;align-items:center;margin-top:1rem;margin-right:1rem}.widget__container #confirmation-booking-number-of-covers{margin-right:.5rem}.widget__container #error-message{color:red;border:2px solid red}.widget__container form{padding:2rem 1rem 1.5rem}.widget__container form .form__field__group{display:flex}@media screen and (min-width: 768px){.widget__container form .form__field__group{gap:2rem}}.widget__container form .form-group-left,.widget__container form .form-group-right{display:flex;flex-direction:column;width:100%}@media screen and (min-width: 768px){.widget__container form .form-group-left,.widget__container form .form-group-right{align-self:flex-start}}.widget__container form .form__field{margin-bottom:1.5rem;display:flex;flex-direction:column;width:100%}.widget__container form .form__field__required{display:flex}.widget__container form .form__field__group{display:flex;flex-flow:row wrap;align-items:center}@media screen and (min-width: 768px){.widget__container form .form__field__group{flex-flow:row nowrap}}@media screen and (min-width: 768px){.widget__container form .form__field.last-name{margin-left:1rem}}.widget__container form .form__field input,.widget__container form .form__field textarea{border:1px solid rgba(0,0,0,.6784313725);border-radius:3px;padding:8px 10px;background-color:var(--default-background-color);resize:vertical}.widget__container form .form__field input{height:48px}.widget__container form .form__field textarea{font-family:Helvetica,Arial,sans-serif}.widget__container form .form__field label{margin-bottom:8px;font-size:1rem}.widget__container .required-field-symbol{color:red;font-size:1.5rem;margin-left:.25rem}.widget__container button{height:48px;border-radius:6px;font-size:18px;background-color:var(--default-offset-background-color);color:#fff;border:0;width:100%;cursor:pointer}.widget__container button:hover{background-color:var(--default-offset-background-color--hover);color:#fff}.widget__container .info{margin-bottom:.5rem}.widget__container .muted{font-size:.75rem;color:gray}.widget__container wc-datepicker{justify-content:center}@media screen and (min-width: 768px){.widget__container wc-datepicker{justify-content:flex-start}}.widget__container wc-datepicker .wc-datepicker__date--selected,.widget__container wc-datepicker .wc-datepicker__date--selected>*,.widget__container wc-datepicker .wc-datepicker__date--selected:hover>*{border-radius:5px;background:var(--date-selected-background-color)}.widget__container wc-datepicker .wc-datepicker__previous-month-button,.widget__container wc-datepicker .wc-datepicker__next-month-button{flex-shrink:unset;height:auto}.widget__container wc-datepicker .wc-datepicker__current-month{align-items:center}.widget__container wc-datepicker select.wc-datepicker__month-select,.widget__container wc-datepicker input.wc-datepicker__year-select{font-weight:700;border:1px solid lightgrey;background:var(--default-background-color);height:32px;text-align:center}.widget__container .time-select-container{display:flex;flex-flow:row nowrap;justify-content:center;margin:2rem 0;gap:1rem}@media screen and (min-width: 768px){.widget__container .time-select-container{justify-content:flex-start;margin-left:1rem}}.widget__container .time-select{padding:.75rem 1rem}.widget__container .time-select:hover{cursor:pointer}.widget__container .wrapper{height:30%;display:flex;justify-content:center;align-items:center}.widget__container .checkmark{width:56px;height:56px;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;margin:10% auto;box-shadow:inset 0 0 green;animation:fill .4s ease-in-out .4s forwards,scale .3s ease-in-out .9s both}.widget__container .checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:green;fill:none;animation:stroke .6s cubic-bezier(.65,0,.45,1) forwards}.widget__container .checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards}@keyframes stroke{to{stroke-dashoffset:0}}@keyframes scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}@keyframes fill{to{box-shadow:inset 0 0 0 30px green}}wc-datepicker,wc-datepicker *,wc-datepicker *:before,wc-datepicker *:after{margin:0;padding:0;box-sizing:border-box}wc-datepicker{display:inline-flex}.wc-datepicker{display:block;width:min-content;min-width:17rem;max-width:24rem;border:.0625rem solid #f2f3f5;color:#111;background-color:#fff;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5}.wc-datepicker--disabled *:disabled{opacity:.5;cursor:default}.wc-datepicker--disabled .wc-datepicker__weekday{color:#767676}.wc-datepicker--disabled .wc-datepicker__date:focus>*{outline:none}.wc-datepicker--disabled .wc-datepicker__date{cursor:default;opacity:.5}.wc-datepicker--disabled .wc-datepicker__date:hover>*{background-color:transparent}.wc-datepicker--disabled .wc-datepicker__date--in-range:hover>*{background-color:#f2f3f5}.wc-datepicker--disabled .wc-datepicker__date--selected:hover>*{color:#fff;background-color:#00f}.wc-datepicker__header{display:flex;padding:.75rem;align-items:center;gap:.5rem}.wc-datepicker__current-month{display:flex;flex-grow:1;gap:.5rem}.wc-datepicker__month-select,.wc-datepicker__year-select{display:flex;height:2rem;padding-right:.5rem;padding-left:.5rem;align-items:center;border:none;border-radius:.25rem;color:#111;background:#f2f3f5;font:inherit;line-height:1.125}.wc-datepicker__month-select{flex-grow:1;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.wc-datepicker__year-select{max-width:5rem}.wc-datepicker__previous-month-button,.wc-datepicker__next-month-button,.wc-datepicker__previous-year-button,.wc-datepicker__next-year-button{display:inline-flex;width:2rem;height:2rem;padding:.375rem;flex-shrink:0;justify-content:center;align-items:center;border:none;border-radius:.25rem;color:#111;background-color:transparent;background-color:#f2f3f5;cursor:pointer}.wc-datepicker__body{padding-right:.75rem;padding-bottom:.75rem;padding-left:.75rem}.wc-datepicker__calendar{width:100%;table-layout:fixed;border-collapse:collapse}.wc-datepicker__weekday>span{display:flex;padding:.125rem;justify-content:center;align-items:center;font-weight:600;aspect-ratio:1}.wc-datepicker__date{padding:.125rem;text-align:center;cursor:pointer}.wc-datepicker__date:focus{outline:none}.wc-datepicker__date:focus>*{outline:.125rem solid #0000ff}.wc-datepicker__date:hover>*{background-color:#f2f3f5}.wc-datepicker__date>*{display:flex;justify-content:center;align-items:center;border-radius:.25rem;aspect-ratio:1}.wc-datepicker__date--today>*{font-weight:700;font-style:normal}.wc-datepicker__date--in-range>*{background-color:#f2f3f5}.wc-datepicker__date--selected>*,.wc-datepicker__date--selected:hover>*{color:#fff;background-color:#00f;font-weight:500}.wc-datepicker__date--disabled{color:#767676;cursor:default}.wc-datepicker__date--disabled:not(.wc-datepicker__date--selected):not(.wc-datepicker__date--in-range):hover>*{background-color:transparent}.wc-datepicker__date--disabled.wc-datepicker__date--in-range:not(.wc-datepicker__date--selected):not(.wc-datepicker__date--in-range)>*{background-color:transparent}.wc-datepicker__footer{display:flex;padding-right:.75rem;padding-bottom:.75rem;padding-left:.75rem;align-items:center;gap:.5rem}.wc-datepicker__clear-button,.wc-datepicker__today-button{display:inline-flex;height:2rem;padding-right:.5rem;padding-left:.5rem;justify-content:center;align-items:center;border:none;border-radius:.25rem;color:#111;background-color:#f2f3f5;font:inherit;line-height:1;cursor:pointer}
`,document.head.appendChild(v);const w=e=>e<10?String(e).padStart(2,"0"):String(e),S=({start:e,end:t,step:n=1})=>{let s=[];typeof t>"u"&&(t=e,e=0);for(let i=e;i<t;i+=n)s.push(i);return s},Oe=({openAt:e,closeAt:t})=>S({start:e,end:t}).flatMap(s=>[0,15,30,45].map(i=>{const r=w(s),o=w(i);return`<option value="${r}:${o}">${r}:${o}</option>`})),Re=({openAt:e=0,closeAt:t=24})=>S({start:e,end:t}).flatMap(s=>[0,15,30,45].map(i=>{const r=w(s),o=w(i),a=`${r}:${o}`,l=document.createElement("option");return l.value=a,l.innerHTML=a,l})),Pe=({heading:e,buttonText:t,formClass:n,datePickerHiddenInputId:s,datePickerId:i,maxCoversPerBooking:r,timePickerId:o,widgetPreview:a})=>`
  <section id="rahui-widget">
    <header class="widget__header">
      <h3>${e}</h3>
    </header>

    <div id="error-message">Sorry, something went wrong. Please try again.</div>

    <div id="confirmation-message-container">
      <div class="wrapper">
        <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"> <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/> <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg>
      </div>
      <h3 id="confirmation-message">Booking confirmed!</h3>
      <div id="confirmation-booking-container">
        <span id="confirmation-booking-number-of-covers"></span>
        <span id="confirmation-booking-datetime"></span>
      </div>
    </div>

    <form class="${n}">
      <input type="hidden" id="widget-submission" name="widget-submission" value="true">
      <div class="form__field__group">
        <div class="form__field form-group-left">
          <div class="form__field form__field__required">
            <div class="form__field__required">
              <label id="number_of_covers_label" for="booking[number_of_covers]">Guests${r?` (Max: ${r})`:""}</label><span class="required-field-symbol">*</span>
            </div>
            <input
              type="number"
              id="number_of_covers"
              name="booking[number_of_covers]"
              placeholder="1"
              min="1"
              value="2"
              required
            />
          </div>
          <div class="form__field__required">
            <input type="hidden" id="${s}" name="booking[date]">
          </div>
          <wc-datepicker id="${i}" first-day-of-week="1" id="${i}"></wc-datepicker>
          <div class="time-select-container">
            <select id="${o}" name="booking[time]" required class="time-select">
              ${Oe({openAt:6,closeAt:20})}
            </select>
          </div>
        </div>

        <div class="form-group-right">
          <section class="customer-details">
            <div class="form__field__group">
              <div class="form__field">
                <div class="form__field__required">
                  <label for="customer[first_name]">First name</label><span class="required-field-symbol" id="customer_first_name_required_symbol">*</span>
                </div>
                <input
                  type="text"
                  id="customer_first_name"
                  name="customer[first_name]"
                  placeholder="Enter your first name"
                  required
                />
              </div>
              <div class="form__field last-name">
                <div class="form__field__required">
                  <label for="customer[last_name]">Last name</label><span class="required-field-symbol" id="customer_last_name_required_symbol">*</span>
                </div>
                <input
                  type="text"
                  id="customer_last_name"
                  name="customer[last_name]"
                  placeholder="Enter your last name"
                  required
                />
              </div>
            </div>
            <div class="form__field">
              <div class="form__field__required">
                <label for="customer[email]">Email</label><span class="required-field-symbol">*</span>
              </div>
              <p class="info muted">We send the booking confirmation to this email address</p>
              <input
                type="email"
                id="email"
                name="customer[email]"
                placeholder="Enter your email address"
              />
            </div>
            <div class="form__field">
              <label for="customer[phone]">Phone number</label>
              <p class="info muted">We may use this to contact you about your booking</p>
              <input
                type="phone"
                id="phone"
                name="customer[phone]"
                placeholder="Enter your phone number"
              />
            </div>
          </section>
          <div class="form__field">
            <label for="booking[notes]">Notes</label>
            <textarea
              id="notes"
              name="booking[notes]"
              placeholder="Enter any additional notes"
              rows="6"
            ></textarea>
          </div>
        </div>
      </div>

      <button type="submit" ${a?"disabled=true":""}>${t}</button>
    </form>
  </section>
`,B={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let T,V,R,ee=!1,P=!1,z=!1,$=!1,te=null,K=!1;const x=(e,t="")=>()=>{},ne="http://www.w3.org/1999/xlink",se={},qe="http://www.w3.org/2000/svg",Ae="http://www.w3.org/1999/xhtml",He=e=>e!=null,G=e=>(e=typeof e,e==="object"||e==="function");function je(e){var t,n,s;return(s=(n=(t=e.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&s!==void 0?s:void 0}const f=(e,t,...n)=>{let s=null,i=null,r=null,o=!1,a=!1;const l=[],c=u=>{for(let h=0;h<u.length;h++)s=u[h],Array.isArray(s)?c(s):s!=null&&typeof s!="boolean"&&((o=typeof e!="function"&&!G(s))&&(s=String(s)),o&&a?l[l.length-1].$text$+=s:l.push(o?q(null,s):s),a=o)};if(c(n),t){t.key&&(i=t.key),t.name&&(r=t.name);{const u=t.className||t.class;u&&(t.class=typeof u!="object"?u:Object.keys(u).filter(h=>u[h]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,l,Ye);const d=q(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),d.$key$=i,d.$name$=r,d},q=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},ie={},We=e=>e&&e.$tag$===ie,Ye={forEach:(e,t)=>e.map(oe).forEach(t),map:(e,t)=>e.map(oe).map(t).map(Ue)},oe=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),Ue=e=>{if(typeof e.vtag=="function"){const n=Object.assign({},e.vattrs);return e.vkey&&(n.key=e.vkey),e.vname&&(n.name=e.vname),f(e.vtag,n,...e.vchildren||[])}const t=q(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},ze=e=>yt.map(t=>t(e)).find(t=>!!t),Ke=(e,t)=>e!=null&&!G(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,Ge=e=>e,re=(e,t,n)=>{const s=Ge(e);return{emit:i=>Qe(s,t,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:i})}},Qe=(e,t,n)=>{const s=p.ce(t,n);return e.dispatchEvent(s),s},ae=new WeakMap,Je=(e,t,n)=>{let s=W.get(e);Dt&&n?(s=s||new CSSStyleSheet,typeof s=="string"?s=t:s.replaceSync(t)):s=t,W.set(e,s)},Xe=(e,t,n,s)=>{var i;let r=le(t,n);const o=W.get(r);if(e=e.nodeType===11?e:b,o)if(typeof o=="string"){e=e.head||e;let a=ae.get(e),l;if(a||ae.set(e,a=new Set),!a.has(r)){{l=b.createElement("style"),l.innerHTML=o;const c=(i=p.$nonce$)!==null&&i!==void 0?i:je(b);c!=null&&l.setAttribute("nonce",c),e.insertBefore(l,e.querySelector("link"))}a&&a.add(r)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return r},Ze=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,s=t.$flags$,i=x("attachStyles",t.$tagName$),r=Xe(n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$);s&10&&(n["s-sc"]=r,n.classList.add(r+"-h"),s&2&&n.classList.add(r+"-s")),i()},le=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),ce=(e,t,n,s,i,r)=>{if(n!==s){let o=ve(e,t),a=t.toLowerCase();if(t==="class"){const l=e.classList,c=de(n),d=de(s);l.remove(...c.filter(u=>u&&!d.includes(u))),l.add(...d.filter(u=>u&&!c.includes(u)))}else if(t==="style"){for(const l in n)(!s||s[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in s)(!n||s[l]!==n[l])&&(l.includes("-")?e.style.setProperty(l,s[l]):e.style[l]=s[l])}else if(t!=="key")if(t==="ref")s&&s(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):ve(Y,a)?t=a.slice(2):t=a[2]+t.slice(3),n&&p.rel(e,t,n,!1),s&&p.ael(e,t,s,!1);else{const l=G(s);if((o||l&&s!==null)&&!i)try{if(e.tagName.includes("-"))e[t]=s;else{const d=s??"";t==="list"?o=!1:(n==null||e[t]!=d)&&(e[t]=d)}}catch{}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),s==null||s===!1?(s!==!1||e.getAttribute(t)==="")&&(c?e.removeAttributeNS(ne,t):e.removeAttribute(t)):(!o||r&4||i)&&!l&&(s=s===!0?"":s,c?e.setAttributeNS(ne,t,s):e.setAttribute(t,s))}}},Ve=/\s/,de=e=>e?e.split(Ve):[],ue=(e,t,n,s)=>{const i=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,r=e&&e.$attrs$||se,o=t.$attrs$||se;for(s in r)s in o||ce(i,s,r[s],void 0,n,t.$flags$);for(s in o)ce(i,s,r[s],o[s],n,t.$flags$)},A=(e,t,n,s)=>{const i=t.$children$[n];let r=0,o,a,l;if(ee||(z=!0,i.$tag$==="slot"&&(T&&s.classList.add(T+"-s"),i.$flags$|=i.$children$?2:1)),i.$text$!==null)o=i.$elm$=b.createTextNode(i.$text$);else if(i.$flags$&1)o=i.$elm$=b.createTextNode("");else{if($||($=i.$tag$==="svg"),o=i.$elm$=b.createElementNS($?qe:Ae,i.$flags$&2?"slot-fb":i.$tag$),$&&i.$tag$==="foreignObject"&&($=!1),ue(null,i,$),He(T)&&o["s-si"]!==T&&o.classList.add(o["s-si"]=T),i.$children$)for(r=0;r<i.$children$.length;++r)a=A(e,i,r,o),a&&o.appendChild(a);i.$tag$==="svg"?$=!1:o.tagName==="foreignObject"&&($=!0)}return o["s-hn"]=R,i.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=V,o["s-sn"]=i.$name$||"",l=e&&e.$children$&&e.$children$[n],l&&l.$tag$===i.$tag$&&e.$elm$&&F(e.$elm$,!1)),o},F=(e,t)=>{p.$flags$|=1;const n=e.childNodes;for(let s=n.length-1;s>=0;s--){const i=n[s];i["s-hn"]!==R&&i["s-ol"]&&(ge(i).insertBefore(i,Q(i)),i["s-ol"].remove(),i["s-ol"]=void 0,z=!0),t&&F(i,t)}p.$flags$&=-2},fe=(e,t,n,s,i,r)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,a;for(o.shadowRoot&&o.tagName===R&&(o=o.shadowRoot);i<=r;++i)s[i]&&(a=A(null,n,i,e),a&&(s[i].$elm$=a,o.insertBefore(a,Q(t))))},he=(e,t,n,s,i)=>{for(;t<=n;++t)(s=e[t])&&(i=s.$elm$,_e(s),P=!0,i["s-ol"]?i["s-ol"].remove():F(i,!0),i.remove())},et=(e,t,n,s)=>{let i=0,r=0,o=0,a=0,l=t.length-1,c=t[0],d=t[l],u=s.length-1,h=s[0],m=s[u],_,k;for(;i<=l&&r<=u;)if(c==null)c=t[++i];else if(d==null)d=t[--l];else if(h==null)h=s[++r];else if(m==null)m=s[--u];else if(H(c,h))I(c,h),c=t[++i],h=s[++r];else if(H(d,m))I(d,m),d=t[--l],m=s[--u];else if(H(c,m))(c.$tag$==="slot"||m.$tag$==="slot")&&F(c.$elm$.parentNode,!1),I(c,m),e.insertBefore(c.$elm$,d.$elm$.nextSibling),c=t[++i],m=s[--u];else if(H(d,h))(c.$tag$==="slot"||m.$tag$==="slot")&&F(d.$elm$.parentNode,!1),I(d,h),e.insertBefore(d.$elm$,c.$elm$),d=t[--l],h=s[++r];else{for(o=-1,a=i;a<=l;++a)if(t[a]&&t[a].$key$!==null&&t[a].$key$===h.$key$){o=a;break}o>=0?(k=t[o],k.$tag$!==h.$tag$?_=A(t&&t[r],n,o,e):(I(k,h),t[o]=void 0,_=k.$elm$),h=s[++r]):(_=A(t&&t[r],n,r,e),h=s[++r]),_&&ge(c.$elm$).insertBefore(_,Q(c.$elm$))}i>l?fe(e,s[u+1]==null?null:s[u+1].$elm$,n,s,r,u):r>u&&he(t,i,l)},H=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,Q=e=>e&&e["s-ol"]||e,ge=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,I=(e,t)=>{const n=t.$elm$=e.$elm$,s=e.$children$,i=t.$children$,r=t.$tag$,o=t.$text$;let a;o===null?($=r==="svg"?!0:r==="foreignObject"?!1:$,r==="slot"||ue(e,t,$),s!==null&&i!==null?et(n,s,t,i):i!==null?(e.$text$!==null&&(n.textContent=""),fe(n,null,t,i,0,i.length-1)):s!==null&&he(s,0,s.length-1),$&&r==="svg"&&($=!1)):(a=n["s-cr"])?a.parentNode.textContent=o:e.$text$!==o&&(n.data=o)},me=e=>{const t=e.childNodes;let n,s,i,r,o,a;for(s=0,i=t.length;s<i;s++)if(n=t[s],n.nodeType===1){if(n["s-sr"]){for(o=n["s-sn"],n.hidden=!1,r=0;r<i;r++)if(a=t[r].nodeType,t[r]["s-hn"]!==n["s-hn"]||o!==""){if(a===1&&o===t[r].getAttribute("slot")){n.hidden=!0;break}}else if(a===1||a===3&&t[r].textContent.trim()!==""){n.hidden=!0;break}}me(n)}},y=[],pe=e=>{let t,n,s,i,r,o,a=0;const l=e.childNodes,c=l.length;for(;a<c;a++){if(t=l[a],t["s-sr"]&&(n=t["s-cr"])&&n.parentNode)for(s=n.parentNode.childNodes,i=t["s-sn"],o=s.length-1;o>=0;o--)n=s[o],!n["s-cn"]&&!n["s-nr"]&&n["s-hn"]!==t["s-hn"]&&($e(n,i)?(r=y.find(d=>d.$nodeToRelocate$===n),P=!0,n["s-sn"]=n["s-sn"]||i,r?r.$slotRefNode$=t:y.push({$slotRefNode$:t,$nodeToRelocate$:n}),n["s-sr"]&&y.map(d=>{$e(d.$nodeToRelocate$,n["s-sn"])&&(r=y.find(u=>u.$nodeToRelocate$===n),r&&!d.$slotRefNode$&&(d.$slotRefNode$=r.$slotRefNode$))})):y.some(d=>d.$nodeToRelocate$===n)||y.push({$nodeToRelocate$:n}));t.nodeType===1&&pe(t)}},$e=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",_e=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(_e)},tt=(e,t)=>{const n=e.$hostElement$,s=e.$cmpMeta$,i=e.$vnode$||q(null,null),r=We(t)?t:f(null,null,t);R=n.tagName,s.$attrsToReflect$&&(r.$attrs$=r.$attrs$||{},s.$attrsToReflect$.map(([o,a])=>r.$attrs$[a]=n[o])),r.$tag$=null,r.$flags$|=4,e.$vnode$=r,r.$elm$=i.$elm$=n.shadowRoot||n,T=n["s-sc"],V=n["s-cr"],ee=(s.$flags$&1)!==0,P=!1,I(i,r);{if(p.$flags$|=1,z){pe(r.$elm$);let o,a,l,c,d,u,h=0;for(;h<y.length;h++)o=y[h],a=o.$nodeToRelocate$,a["s-ol"]||(l=b.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(h=0;h<y.length;h++)if(o=y[h],a=o.$nodeToRelocate$,o.$slotRefNode$){for(c=o.$slotRefNode$.parentNode,d=o.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(u=l["s-nr"],u&&u["s-sn"]===a["s-sn"]&&c===u.parentNode&&(u=u.nextSibling,!u||!u["s-nr"])){d=u;break}(!d&&c!==a.parentNode||a.nextSibling!==d)&&a!==d&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,d))}else a.nodeType===1&&(a.hidden=!0)}P&&me(r.$elm$),p.$flags$&=-2,y.length=0}},nt=(e,t)=>{},we=(e,t)=>(e.$flags$|=16,nt(e,e.$ancestorComponent$),Ct(()=>st(e,t))),st=(e,t)=>{const n=e.$hostElement$,s=x("scheduleUpdate",e.$cmpMeta$.$tagName$),i=n;let r;return t?r=L(i,"componentWillLoad"):r=L(i,"componentWillUpdate"),r=ye(r,()=>L(i,"componentWillRender")),s(),ye(r,()=>it(e,i,t))},it=async(e,t,n)=>{const s=e.$hostElement$,i=x("update",e.$cmpMeta$.$tagName$);s["s-rc"],n&&Ze(e);const r=x("render",e.$cmpMeta$.$tagName$);ot(e,t,s),r(),i(),rt(e)},ot=(e,t,n)=>{try{te=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(B.hasRenderFn||B.reflect)&&(B.vdomRender||B.reflect)&&(B.hydrateServerSide||tt(e,t))}catch(a){O(a,e.$hostElement$)}return te=null,null},rt=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,s=x("postUpdate",t),i=n;e.$ancestorComponent$,L(i,"componentDidRender"),e.$flags$&64?(L(i,"componentDidUpdate"),s()):(e.$flags$|=64,L(i,"componentDidLoad"),s())},L=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(s){O(s)}},ye=(e,t)=>e&&e.then?e.then(t):t(),at=(e,t)=>j(e).$instanceValues$.get(t),lt=(e,t,n,s)=>{const i=j(e),r=e,o=i.$instanceValues$.get(t),a=i.$flags$,l=r;n=Ke(n,s.$members$[t][0]);const c=Number.isNaN(o)&&Number.isNaN(n);if(n!==o&&!c){i.$instanceValues$.set(t,n);{if(s.$watchers$&&a&128){const u=s.$watchers$[t];u&&u.map(h=>{try{l[h](n,o,t)}catch(m){O(m,r)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,o,t)===!1)return;we(i,!1)}}}},ct=(e,t,n)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const s=Object.entries(t.$members$),i=e.prototype;s.map(([r,[o]])=>{(o&31||o&32)&&Object.defineProperty(i,r,{get(){return at(this,r)},set(a){lt(this,r,a,t)},configurable:!0,enumerable:!0})});{const r=new Map;i.attributeChangedCallback=function(o,a,l){p.jmp(()=>{const c=r.get(o);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(i.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},e.observedAttributes=s.filter(([o,a])=>a[0]&15).map(([o,a])=>{const l=a[1]||o;return r.set(l,o),a[0]&512&&t.$attrsToReflect$.push([o,l]),l})}}return e},dt=async(e,t,n,s,i)=>{if(!(t.$flags$&32)&&(i=e.constructor,t.$flags$|=32,customElements.whenDefined(n.$tagName$).then(()=>t.$flags$|=128),i.style)){let o=i.style;typeof o!="string"&&(o=o[t.$modeName$=ze(e)]);const a=le(n,t.$modeName$);if(!W.has(a)){const l=x("registerStyles",n.$tagName$);Je(a,o,!!(n.$flags$&1)),l()}}t.$ancestorComponent$,we(t,!0)},ut=e=>{},ft=e=>{if(!(p.$flags$&1)){const t=j(e),n=t.$cmpMeta$,s=x("connectedCallback",n.$tagName$);t.$flags$&1?(be(e,t,n.$listeners$),ut(t.$lazyInstance$)):(t.$flags$|=1,n.$flags$&12&&ht(e),n.$members$&&Object.entries(n.$members$).map(([i,[r]])=>{if(r&31&&e.hasOwnProperty(i)){const o=e[i];delete e[i],e[i]=o}}),dt(e,t,n)),s()}},ht=e=>{const t=e["s-cr"]=b.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},gt=e=>{if(!(p.$flags$&1)){const t=j(e);t.$rmListeners$&&(t.$rmListeners$.map(n=>n()),t.$rmListeners$=void 0)}},mt=(e,t)=>{const n={$flags$:t[0],$tagName$:t[1]};n.$members$=t[2],n.$listeners$=t[3],n.$watchers$=e.$watchers$,n.$attrsToReflect$=[];const s=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){wt(this,n)},connectedCallback(){ft(this),s&&s.call(this)},disconnectedCallback(){gt(this),i&&i.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)})}}),e.is=n.$tagName$,ct(e,n)},be=(e,t,n,s)=>{n&&n.map(([i,r,o])=>{const a=$t(e,i),l=pt(t,o),c=_t(i);p.ael(a,r,l,c),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>p.rel(a,r,l,c))})},pt=(e,t)=>n=>{try{B.lazyLoad||e.$hostElement$[t](n)}catch(s){O(s)}},$t=(e,t)=>t&4?b:t&8?Y:t&16?b.body:e,_t=e=>kt?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,ke=new WeakMap,j=e=>ke.get(e),wt=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return be(e,n,t.$listeners$),ke.set(e,n)},ve=(e,t)=>t in e,O=(e,t)=>(0,console.error)(e,t),W=new Map,yt=[],Y=typeof window<"u"?window:{},b=Y.document||{head:{}},bt=Y.HTMLElement||class{},p={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,s)=>e.addEventListener(t,n,s),rel:(e,t,n,s)=>e.removeEventListener(t,n,s),ce:(e,t)=>new CustomEvent(e,t)},kt=(()=>{let e=!1;try{b.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),vt=e=>Promise.resolve(e),Dt=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),De=[],Se=[],St=(e,t)=>n=>{e.push(n),K||(K=!0,t&&p.$flags$&4?xt(J):p.raf(J))},xe=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){O(n)}e.length=0},J=()=>{xe(De),xe(Se),(K=De.length>0)&&p.raf(J)},xt=e=>vt().then(e),Ct=St(Se,!0);function Ce(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Mt(e,t,n){const s=[],i=X(e),r=i.getDay()===0?7:i.getDay(),o=Me(e),a=o.getDay()===0?7:o.getDay(),l=n===1?7:n-1,c=[],d=[];{let m=(7-n+r)%7,_=Z(i);for(;m>0;)c.push(_),_=Z(_),m-=1;c.reverse();let E=(7-a+l)%7,N=U(o);for(;E>0;)d.push(N),N=U(N),E-=1}let u=i;for(;u.getMonth()===e.getMonth();)s.push(u),u=U(u);return[...c,...s,...d]}function X(e){return M(new Date(`${String(Ne(e)).padStart(4,"0")}-${String(Ee(e)).padStart(2,"0")}-01`))}function C(e){if(e instanceof Date)return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function Me(e){const t=X(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t}function Ee(e){return e.getMonth()+1}function Et(e){return new Array(12).fill(void 0).map((t,n)=>{const s=M(new Date(`2006-${String(n+1).padStart(2,"0")}-01`));return Intl.DateTimeFormat(e,{month:"long"}).format(s)})}function U(e){return Ce(e,1)}function Be(e){const t=new Date(e);return t.setDate(1),t.setMonth(t.getMonth()+1),t}function Te(e){const t=new Date(e);return t.setFullYear(t.getFullYear()+1),t}function Z(e){return Fe(e,1)}function Ie(e){const t=new Date(e);return t.setDate(1),t.setMonth(t.getMonth()-1),t}function Le(e){const t=new Date(e);return t.setFullYear(t.getFullYear()-1),t}function Bt(e,t){return new Array(7).fill(void 0).map((n,s)=>(e+s)%7+1).map(n=>{const s=M(new Date(`2006-01-0${n}`));return[Intl.DateTimeFormat(t,{weekday:"short"}).format(s),Intl.DateTimeFormat(t,{weekday:"long"}).format(s)]})}function Ne(e){return e.getFullYear()}function Tt(e,t){if(!e||!t||!t.from||!t.to)return!1;const n=t.from<t.to?t.from:t.to,s=t.from<t.to?t.to:t.from;return e>=n&&e<=s}function D(e,t){return!e||!t?!1:e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function M(e){const t=new Date(e);return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t}function Fe(e,t){const n=new Date(e);return n.setDate(n.getDate()-t),n}const It=".visually-hidden.sc-wc-datepicker{position:absolute;overflow:hidden;width:1px;height:1px;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}",Lt={clearButton:"Clear value",monthSelect:"Select month",nextMonthButton:"Next month",nextYearButton:"Next year",picker:"Choose date",previousMonthButton:"Previous month",previousYearButton:"Previous year",todayButton:"Show today",yearSelect:"Select year"},Nt=mt(class extends bt{constructor(){super(),this.__registerHost(),this.selectDate=re(this,"selectDate",7),this.changeMonth=re(this,"changeMonth",7),this.disabled=!1,this.disableDate=()=>!1,this.elementClassName="wc-datepicker",this.firstDayOfWeek=0,this.labels=Lt,this.locale=(navigator==null?void 0:navigator.language)||"en-US",this.showClearButton=!1,this.showMonthStepper=!0,this.showTodayButton=!1,this.showYearStepper=!1,this.startDate=C(new Date),this.init=()=>{this.currentDate=this.startDate?M(new Date(this.startDate)):new Date,this.updateWeekdays()},this.nextMonth=()=>{this.updateCurrentDate(Be(this.currentDate))},this.nextYear=()=>{this.updateCurrentDate(Te(this.currentDate))},this.previousMonth=()=>{this.updateCurrentDate(Ie(this.currentDate))},this.previousYear=()=>{this.updateCurrentDate(Le(this.currentDate))},this.showToday=()=>{this.updateCurrentDate(new Date)},this.clear=()=>{this.value=void 0,this.selectDate.emit(void 0)},this.onClick=e=>{if(this.disabled)return;const t=e.target.closest("[data-date]");if(!t)return;const n=M(new Date(t.dataset.date));this.updateCurrentDate(n),this.onSelectDate(n)},this.onMonthSelect=e=>{const t=+e.target.value-1,n=new Date(this.currentDate);n.setMonth(t),this.updateCurrentDate(n)},this.onYearSelect=e=>{let t=+e.target.value;const n=e.target;isNaN(t)?(t=new Date().getFullYear(),n.value=String(t)):t<0?(t=0,n.value=String(t)):t>9999&&(t=9999,n.value=String(t));const s=new Date(this.currentDate);s.setFullYear(t),this.updateCurrentDate(s)},this.onKeyDown=e=>{this.disabled||(e.code==="ArrowLeft"?(e.preventDefault(),this.updateCurrentDate(Z(this.currentDate),!0)):e.code==="ArrowRight"?(e.preventDefault(),this.updateCurrentDate(U(this.currentDate),!0)):e.code==="ArrowUp"?(e.preventDefault(),this.updateCurrentDate(Fe(this.currentDate,7),!0)):e.code==="ArrowDown"?(e.preventDefault(),this.updateCurrentDate(Ce(this.currentDate,7),!0)):e.code==="PageUp"?(e.preventDefault(),e.shiftKey?this.updateCurrentDate(Le(this.currentDate),!0):this.updateCurrentDate(Ie(this.currentDate),!0)):e.code==="PageDown"?(e.preventDefault(),e.shiftKey?this.updateCurrentDate(Te(this.currentDate),!0):this.updateCurrentDate(Be(this.currentDate),!0)):e.code==="Home"?(e.preventDefault(),this.updateCurrentDate(X(this.currentDate),!0)):e.code==="End"?(e.preventDefault(),this.updateCurrentDate(Me(this.currentDate),!0)):(e.code==="Space"||e.code==="Enter")&&(e.preventDefault(),this.onSelectDate(this.currentDate)))},this.onMouseEnter=e=>{if(this.disabled)return;const t=M(new Date(e.target.closest("td").dataset.date));this.hoveredDate=t},this.onMouseLeave=()=>{this.hoveredDate=void 0}}componentWillLoad(){this.init()}watchFirstDayOfWeek(){this.updateWeekdays()}watchLocale(){this.locale||(this.locale=(navigator==null?void 0:navigator.language)||"en-US"),this.updateWeekdays()}watchRange(){this.value=void 0,this.selectDate.emit(void 0)}watchStartDate(){this.currentDate=this.startDate?M(new Date(this.startDate)):new Date}watchValue(){this.value&&(Array.isArray(this.value)&&this.value.length>=1?this.currentDate=this.value[0]:this.value instanceof Date&&(this.currentDate=this.value))}componentDidRender(){this.moveFocusAfterMonthChanged&&(this.focusDate(this.currentDate),this.moveFocusAfterMonthChanged=!1)}updateWeekdays(){this.weekdays=Bt(this.firstDayOfWeek===0?7:this.firstDayOfWeek,this.locale)}getClassName(e){return e?`${this.elementClassName}__${e}`:this.elementClassName}getCalendarRows(){const e=Mt(this.currentDate,!0,this.firstDayOfWeek===0?7:this.firstDayOfWeek),t=[];for(let n=0;n<e.length;n+=7){const s=e.slice(n,n+7);t.push(s)}return t}getTitle(){if(this.currentDate)return Intl.DateTimeFormat(this.locale,{day:"numeric",month:"long",year:"numeric"}).format(this.currentDate)}focusDate(e){var t;(t=this.el.querySelector(`[data-date="${C(e)}"]`))===null||t===void 0||t.focus()}updateCurrentDate(e,t){const n=e.getMonth(),s=e.getFullYear();if(s>9999||s<0)return;(n!==this.currentDate.getMonth()||s!==this.currentDate.getFullYear())&&(this.changeMonth.emit({month:Ee(e),year:Ne(e)}),t&&(this.moveFocusAfterMonthChanged=!0)),this.currentDate=e,t&&this.focusDate(this.currentDate)}onSelectDate(e){var t,n;if(!this.disableDate(e))if(this.isRangeValue(this.value)){const s=((t=this.value)===null||t===void 0?void 0:t[0])===void 0||this.value.length===2?[e]:[this.value[0],e];s.length===2&&s[0]>s[1]&&s.reverse();const i=s[1]===void 0?[C(s[0])]:[C(s[0]),C(s[1])];this.value=s,this.selectDate.emit(i)}else{if(((n=this.value)===null||n===void 0?void 0:n.getTime())===e.getTime())return;this.value=e,this.selectDate.emit(C(e))}}isRangeValue(e){return this.range}render(){const e=this.showTodayButton||this.showClearButton;return f(ie,null,f("div",{"aria-disabled":String(this.disabled),"aria-label":this.labels.picker,class:{[this.getClassName()]:!0,[`${this.getClassName()}--disabled`]:this.disabled},role:"group"},f("div",{class:this.getClassName("header")},f("span",{"aria-atomic":"true","aria-live":"polite",class:"visually-hidden"},this.getTitle()),this.showYearStepper&&f("button",{"aria-label":this.labels.previousYearButton,class:this.getClassName("previous-year-button"),disabled:this.disabled,innerHTML:this.previousYearButtonContent||void 0,onClick:this.previousYear,type:"button"},f("svg",{fill:"none",height:"24","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24",width:"24"},f("polyline",{points:"11 17 6 12 11 7"}),f("polyline",{points:"18 17 13 12 18 7"}))),this.showMonthStepper&&f("button",{"aria-label":this.labels.previousMonthButton,class:this.getClassName("previous-month-button"),disabled:this.disabled,innerHTML:this.previousMonthButtonContent||void 0,onClick:this.previousMonth,type:"button"},f("svg",{fill:"none",height:"24","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24",width:"24"},f("polyline",{points:"15 18 9 12 15 6"}))),f("span",{class:this.getClassName("current-month")},f("select",{"aria-label":this.labels.monthSelect,class:this.getClassName("month-select"),disabled:this.disabled,name:"month",onChange:this.onMonthSelect},Et(this.locale).map((t,n)=>f("option",{key:t,selected:this.currentDate.getMonth()===n,value:n+1},t))),f("input",{"aria-label":this.labels.yearSelect,class:this.getClassName("year-select"),disabled:this.disabled,max:9999,maxLength:4,min:1,name:"year",onChange:this.onYearSelect,type:"number",value:this.currentDate.getFullYear()})),this.showMonthStepper&&f("button",{"aria-label":this.labels.nextMonthButton,class:this.getClassName("next-month-button"),disabled:this.disabled,innerHTML:this.nextMonthButtonContent||void 0,onClick:this.nextMonth,type:"button"},f("svg",{fill:"none",height:"24","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24",width:"24"},f("polyline",{points:"9 18 15 12 9 6"}))),this.showYearStepper&&f("button",{"aria-label":this.labels.nextYearButton,class:this.getClassName("next-year-button"),disabled:this.disabled,innerHTML:this.nextYearButtonContent||void 0,onClick:this.nextYear,type:"button"},f("svg",{fill:"none",height:"24","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24",width:"24"},f("polyline",{points:"13 17 18 12 13 7"}),f("polyline",{points:"6 17 11 12 6 7"})))),f("div",{class:this.getClassName("body")},f("table",{class:this.getClassName("calendar"),onKeyDown:this.onKeyDown,role:"grid"},f("thead",{class:this.getClassName("calendar-header")},f("tr",{class:this.getClassName("weekday-row")},this.weekdays.map(t=>f("th",{abbr:t[1],class:this.getClassName("weekday"),key:t[0],scope:"col"},f("span",null,t[0]))))),f("tbody",null,this.getCalendarRows().map(t=>{const n=`row-${t[0].getMonth()}-${t[0].getDate()}`;return f("tr",{class:this.getClassName("calendar-row"),key:n},t.map(s=>{var i,r,o,a,l;const c=D(s,this.currentDate),d=s.getMonth()!==this.currentDate.getMonth(),u=Array.isArray(this.value)?D(s,this.value[0])||D(s,this.value[1]):D(s,this.value),h=this.isRangeValue?Tt(s,{from:(i=this.value)===null||i===void 0?void 0:i[0],to:((r=this.value)===null||r===void 0?void 0:r[1])||this.hoveredDate||this.currentDate}):!1,m=!((o=this.value)===null||o===void 0)&&o[0]?[(a=this.value)===null||a===void 0?void 0:a[0],((l=this.value)===null||l===void 0?void 0:l[1])||this.hoveredDate].sort((qt,At)=>qt-At):[],_=this.range&&D(m[0],s),k=this.range&&D(m[1],s),E=D(s,new Date),N=this.disableDate(s),Ot=`cell-${s.getMonth()}-${s.getDate()}`,Rt={[this.getClassName("date")]:!0,[this.getClassName("date--current")]:c,[this.getClassName("date--disabled")]:N,[this.getClassName("date--overflowing")]:d,[this.getClassName("date--today")]:E,[this.getClassName("date--selected")]:u,[this.getClassName("date--in-range")]:h,[this.getClassName("date--start")]:_,[this.getClassName("date--end")]:k},Pt=u?"strong":E?"em":"span";return f("td",{"aria-disabled":String(N),"aria-selected":u?"true":void 0,class:Rt,"data-date":C(s),key:Ot,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,role:"gridcell",tabIndex:D(s,this.currentDate)&&!this.disabled?0:-1},f(Pt,{"aria-hidden":"true"},s.getDate()),f("span",{class:"visually-hidden"},Intl.DateTimeFormat(this.locale,{day:"numeric",month:"long"}).format(s)))}))})))),e&&f("div",{class:this.getClassName("footer")},this.showTodayButton&&f("button",{class:this.getClassName("today-button"),disabled:this.disabled,innerHTML:this.todayButtonContent||void 0,onClick:this.showToday,type:"button"},this.labels.todayButton),this.showClearButton&&f("button",{class:this.getClassName("clear-button"),disabled:this.disabled,innerHTML:this.clearButtonContent||void 0,onClick:this.clear,type:"button"},this.labels.clearButton))))}get el(){return this}static get watchers(){return{firstDayOfWeek:["watchFirstDayOfWeek"],locale:["watchLocale"],range:["watchRange"],startDate:["watchStartDate"],value:["watchValue"]}}static get style(){return It}},[2,"wc-datepicker",{clearButtonContent:[1,"clear-button-content"],disabled:[4],disableDate:[16],elementClassName:[1,"element-class-name"],firstDayOfWeek:[2,"first-day-of-week"],range:[4],labels:[16],locale:[1],nextMonthButtonContent:[1,"next-month-button-content"],nextYearButtonContent:[1,"next-year-button-content"],previousMonthButtonContent:[1,"previous-month-button-content"],previousYearButtonContent:[1,"previous-year-button-content"],showClearButton:[4,"show-clear-button"],showMonthStepper:[4,"show-month-stepper"],showTodayButton:[4,"show-today-button"],showYearStepper:[4,"show-year-stepper"],startDate:[1,"start-date"],todayButtonContent:[1,"today-button-content"],value:[1040],currentDate:[32],hoveredDate:[32],weekdays:[32]}]);class Ft{constructor({apiKey:t,localServerBaseUrl:n,rootElementIdOverride:s,widgetPreview:i}){g(this,"apiKey","");g(this,"apiBaseUrl","");g(this,"defaultRequestHeaders");g(this,"widgetContainer",null);g(this,"form",null);g(this,"formClass","rahui-booking-form");g(this,"datePickerId","date-picker");g(this,"timePickerId","time-picker");g(this,"datePickerHiddenInputId","hidden-date-input");g(this,"confirmationContainerElementId","confirmation-message-container");g(this,"confirmationBookingDatetimeElementId","confirmation-booking-datetime");g(this,"confirmationBookingCoversElementId","confirmation-booking-number-of-covers");g(this,"errorMessageElementId","error-message");g(this,"rootElementIdOverride");g(this,"localServerBaseUrl");g(this,"rootElementId","");g(this,"widgetPreview",!1);g(this,"heading","");g(this,"buttonText","");g(this,"maxCoversPerBooking");this.rootElementId,this.apiKey=t,this.apiBaseUrl=n||"https://www.rahui-booking.com",this.defaultRequestHeaders={"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},this.localServerBaseUrl=n,this.rootElementIdOverride=s,this.widgetPreview=i||!1,this.heading="Book a table",this.buttonText="Create booking",this.initialize()}async initialize(){await this.getWidgetSettings()}setupWidget(){let t,n;this.widgetContainer=document.createElement("div"),this.widgetContainer.classList.add("widget__container"),this.createWidgetContent(),this.rootElementId.length?t=document.getElementById(this.rootElementId):(n=document.createElement("div"),document.body.appendChild(n));const s=t||n,i=s==null?void 0:s.querySelector(".widget__container");i&&i.remove(),s==null||s.appendChild(this.widgetContainer),this.form=document.getElementsByClassName(this.formClass)[0],this.form&&this.form.addEventListener("submit",this.formSubmit.bind(this)),customElements.get("wc-datepicker")||customElements.define("wc-datepicker",Nt);const r=document.getElementById(this.datePickerId);r&&(r.disableDate=function(o){const a=new Date,l=new Date(a.setHours(0,0,0));return new Date(o.setHours(15,0,0)).getTime()<l.getTime()},r.addEventListener("selectDate",o=>{const a=document.getElementById(this.datePickerHiddenInputId);a&&(a.value=o.detail),this.getOpeningHours(o.detail)})),this.getOpeningHours(),this.setupEventListenersForRequiredFields()}async getWidgetSettings(){const t=`${this.apiBaseUrl}/api/widgets/settings`,n=await fetch(t,{headers:this.defaultRequestHeaders,method:"GET"});if(n.status===200){const s=await n.json();this.applySettings(s),this.setupWidget()}else console.error({body:await n.json()})}applySettings(t){const{button_text:n,heading_text:s,max_covers_per_booking:i,root_element_id:r}=t;this.buttonText=n||this.buttonText,this.heading=s||this.heading,this.rootElementId=this.rootElementIdOverride||r||this.rootElementId,this.maxCoversPerBooking=i}async getOpeningHours(t=void 0){const n=Intl.DateTimeFormat().resolvedOptions().timeZone,s=t&&n?`?date=${t}&timezone=${n}`:void 0,i=s?`${this.apiBaseUrl}/api/widgets/opening_hours${s}`:`${this.apiBaseUrl}/api/widgets/opening_hours`,r=await fetch(i,{headers:this.defaultRequestHeaders,method:"GET"});if(r.status===200){const o=await r.json();this.applyOpeningHours(o)}else console.error({body:await r.json()})}applyOpeningHours(t){const n=document.getElementById(this.timePickerId);if(n&&t){const{open_at:s,close_at:i}=t==null?void 0:t.opening_hours,r=parseInt(s),o=parseInt(i),a=[];Re({openAt:r,closeAt:o}).forEach(c=>{const d=parseInt(c.value.split(":")[0]);d>=r&&d<=o&&a.push(c)}),n.innerHTML="",n.append(...a)}}async formSubmit(t){t.preventDefault();const n=new FormData(t.target),s=Object.fromEntries(n.entries()),i=new Date(s["booking[date]"]),r=s["booking[time]"],o=r.split(":")[0],a=r.split(":")[1],c=new Date(i.setHours(parseInt(o),parseInt(a),0)).toUTCString(),d=String(s["booking[number_of_covers]"]),u=String(s["booking[notes]"]),h=String(s["customer[first_name]"]),m=String(s["customer[last_name]"]),_=String(s["customer[email]"]),k=String(s["customer[phone]"]),E={"widget-submission":!0,booking:{datetime:c,number_of_covers:d,notes:u},customer:{first_name:h,last_name:m,email:_,phone:k}};await this.forwardFormSubmissionToServer(E)}async forwardFormSubmissionToServer(t){const n=`${this.apiBaseUrl}/api/widgets/create_booking`;if(n&&t){const s=await fetch(n,{headers:this.defaultRequestHeaders,method:"POST",body:JSON.stringify(t)});if(this.hideErrorMessage(),s.status===201){const i=await s.json();this.hideForm(),this.showConfirmationMessage(i)}else console.error({body:await s.json()}),this.showErrorMessage()}}hideForm(){const t=document.getElementById(this.formClass);t&&(t.style.visibility="hidden")}showConfirmationMessage(t){const n=document.getElementById(this.confirmationContainerElementId),s=document.getElementById(this.confirmationBookingDatetimeElementId),i=document.getElementById(this.confirmationBookingCoversElementId);if(!(!n||!t)){if(s){const r=new Date(t.datetime),o=Intl.DateTimeFormat().resolvedOptions().locale,a=new Intl.DateTimeFormat(o,{dateStyle:"full",timeStyle:"short"}).format(r);s.textContent=a}if(i){const r=String(t.number_of_covers),o=t.number_of_covers===1?`${r} Person | `:`${r} People | `;i.textContent=o}n.style.display="flex",n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}hideErrorMessage(){const t=document.getElementById(this.errorMessageElementId);t&&(t.style.display="none")}showErrorMessage(){const t=document.getElementById(this.errorMessageElementId);t&&(t.style.display="block")}createWidgetContent(){this.widgetContainer.innerHTML=Pe({heading:this.heading,buttonText:this.buttonText,formClass:this.formClass,maxCoversPerBooking:this.maxCoversPerBooking,datePickerHiddenInputId:this.datePickerHiddenInputId,datePickerId:this.datePickerId,timePickerId:this.timePickerId,widgetPreview:this.widgetPreview})}setupEventListenersForRequiredFields(){const t=document.getElementById("customer_first_name"),n=document.getElementById("customer_last_name");[t,n].forEach(s=>{const i=[t,n];this.handleToggleRequiredFields({relatedFields:i}),s&&s.addEventListener("change",()=>this.handleToggleRequiredFields({relatedFields:i}))})}getRequiredSymbolFor(t){const n=t.id+"_required_symbol";return document.getElementById(n)}toggleRequiredSymbolFor(t){const n=this.getRequiredSymbolFor(t);n&&(n.style.display="none")}handleToggleRequiredFields({relatedFields:t}){const[n,s]=t,i=t.every(o=>o.value.length>0),r=t.every(o=>o.value.length===0);(i||r)&&t.forEach(o=>{const a=this.getRequiredSymbolFor(o);a&&(a.style.display="inline"),o.required=!0}),n.value.length>0&&s.value.length===0&&(this.toggleRequiredSymbolFor(s),s.required=!1),s.value.length>0&&n.value.length===0&&(this.toggleRequiredSymbolFor(n),n.required=!1)}}window.RahuiWidget=Ft})();
